<!DOCTYPE html>
<html>
  <head>
    <!-- do not remove anything in head, can add stuff if needed though -->
    <link rel="stylesheet" type="text/css" href="src/css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://kit.fontawesome.com/215800797e.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="top-flap">
        <p>Directory</p>
    </div>

    <div class="main-content">
        <input type="text" id="search" onkeyup="filter()" placeholder="Search..">
        <div id="list"></div>
    </div>

    <script>
        // to change to reading from firebase
        var names = ["Heavenly Wang- Wang Cafe", "O' Coffee Club", "O Chang Kee", "Noel Gifts International", "Mr Bean", "K-Cuts"];

        for (i=0; i<names.length; i++) {
            var tenant = document.createElement("p");
            var tenantText = document.createTextNode(names[i]);
            tenant.appendChild(tenantText);
            tenant.classList.add("tenant-text");

            var inst = document.createElement("p");
            var instText = document.createTextNode("[SingHealth Instiution] [F&B Store]");
            inst.appendChild(instText);

            var date = document.createElement("h6");
            var dateText = document.createTextNode("Latest report made on 14/2/2020");
            date.appendChild(dateText);

            var sect = document.createElement("div");
            sect.appendChild(tenant);
            sect.appendChild(inst);
            sect.appendChild(date);
            sect.classList.add("sect")

            var icon = document.createElement("div");
            icon.innerHTML = '<i class="fas fa-chevron-right"></i>'
            
            var card = document.createElement("div");
            card.appendChild(sect)
            card.appendChild(icon);
            card.classList.add("card");
            card.id = "card-"+i;
            card.onclick = function() { selectTenant(this) };

            var split = document.createElement("hr");

            var list = document.getElementById("list");
            list.appendChild(card);
            list.appendChild(split);
        }
        </script>

    <script>
        function filter() {
            // Declare variables
            var filter = document.getElementById('search').value.toUpperCase();
            var cards = document.getElementById("list").getElementsByClassName('card');
        
            // Loop through all list items, and hide those who don't match the search query
            for (i = 0; i < cards.length; i++) {
                var tenantName = cards[i].firstChild.firstChild;
                var txtValue = tenantName.textContent || tenantName.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    cards[i].style.display = "";
                    cards[i].nextElementSibling.style.display = "";
                } else {
                    cards[i].style.display = "none";
                    cards[i].nextElementSibling.style.display = "none";
                }
            }
        }
    </script>

    <script>
        function selectTenant(ele) {
            console.log(ele.id)
        }
    </script>

    </div>
    <div class="navbar">
      <div id="home" class="nav-active">
          <button class="button" onclick="window.location.href='home.html';"><i class="fas fa-home"></i></button>
      </div>
      <div id="annoucements">
          <button class="button" onclick="window.location.href='announcements.html';"><i class="fas fa-bullhorn"></i></button>
      </div>
      <div id="new-report">
          <i class="fas fa-plus-circle"></i></div>
      <div id="trends">
          <button class="button" onclick="window.location.href='trends.html';"><i class="fas fa-chart-line"></i></button></div>
      <div id="directory">
          <i class="fas fa-th-list button"></i>
      </div>
    </div>
    <!-- tenant navbar 
    <div class="navbar navbar-tenant">
        <div id="home" class="nav-active"><i class="fas fa-home"></i></div>
        <div id="annoucements"><i class="fas fa-bullhorn"></i></div>
        <div id="directory"><i class="fas fa-th-list"></i></div>
        <div id="past-report"><i class="fas fa-file-alt"></i></div>
    </div>
    -->

    <!--- do not remove this script line, it allows the service worker to function -->
    <script src="src/js/app.js"></script> 
  </body>
</html>
